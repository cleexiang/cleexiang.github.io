---
layout: single
title: RxSwiftæ¦‚å¿µè§£æƒ‘ä¸€
date: 2016-08-29

---

### æœ¬ç³»åˆ—æ–‡ç« å°†å¯¹RxSwiftä¸­ä¸€äº›æ¯”è¾ƒå®¹æ˜“æ··æ·†çš„æ¦‚å¿µå’Œæ“ä½œè¿›è¡Œè¯¦ç»†çš„è®²è§£

### PublishSubject vs ReplaySubject vs BehaviorSubject vs Variable

#### <a name="PublishSubject">PublishSubject</a>

> æ—¶åºå›¾

![PublishSubject](http://reactivex.io/documentation/operators/images/S.PublishSubject.png)

> ç¤ºä¾‹ä»£ç 

```
example("PublishSubject") {
    let disposeBag = DisposeBag()
    let subject = PublishSubject<String>()
    
    subject.addObserver("1").addDisposableTo(disposeBag)
    subject.onNext("ğŸ¶")
    subject.onNext("ğŸ±")
    
    subject.addObserver("2").addDisposableTo(disposeBag)
    subject.onNext("ğŸ…°ï¸")
    subject.onNext("ğŸ…±ï¸")
}
```

> è¿è¡Œç»“æœ

```
Subscription: 1 Event: Next(ğŸ¶)
Subscription: 1 Event: Next(ğŸ±)
Subscription: 1 Event: Next(ğŸ…°ï¸)
Subscription: 2 Event: Next(ğŸ…°ï¸)
Subscription: 1 Event: Next(ğŸ…±ï¸)
Subscription: 2 Event: Next(ğŸ…±ï¸)
```

#### <a name="ReplaySubject">ReplaySubject</a>

![ReplaySubject](http://reactivex.io/documentation/operators/images/S.ReplaySubject.png)

> ç¤ºä¾‹ä»£ç 

```
example("ReplaySubject") {
    let disposeBag = DisposeBag()
    let subject = ReplaySubject<String>.create(bufferSize: 3)
    
    subject.addObserver("1").addDisposableTo(disposeBag)
    subject.onNext("ğŸ¶")
    subject.onNext("ğŸ±")
    
    subject.addObserver("2").addDisposableTo(disposeBag)
    subject.onNext("ğŸ…°ï¸")
    subject.onNext("ğŸ…±ï¸")
}
```

> è¿è¡Œç»“æœ

```
Subscription: 1 Event: Next(ğŸ¶)
Subscription: 1 Event: Next(ğŸ±)
Subscription: 2 Event: Next(ğŸ¶)
Subscription: 2 Event: Next(ğŸ±)
Subscription: 1 Event: Next(ğŸ…°ï¸)
Subscription: 2 Event: Next(ğŸ…°ï¸)
Subscription: 1 Event: Next(ğŸ…±ï¸)
Subscription: 2 Event: Next(ğŸ…±ï¸)
```

#### <a name="BehaviorSubject"> BehaviorSubject </a>

![BehaviorSubject](http://reactivex.io/documentation/operators/images/S.BehaviorSubject.png)

> ç¤ºä¾‹ä»£ç 

```
example("BehaviorSubject") {
    let disposeBag = DisposeBag()
    let subject = BehaviorSubject(value: "ğŸ”´")
    
    subject.addObserver("1").addDisposableTo(disposeBag)
    subject.onNext("ğŸ¶")
    subject.onNext("ğŸ±")
    
    subject.addObserver("2").addDisposableTo(disposeBag)
    subject.onNext("ğŸ…°ï¸")
    subject.onNext("ğŸ…±ï¸")
    
    subject.addObserver("3").addDisposableTo(disposeBag)
    subject.onNext("ğŸ")
    subject.onNext("ğŸŠ")
}
```

> è¿è¡Œç»“æœ

```
Subscription: 1 Event: Next(ğŸ”´)
Subscription: 1 Event: Next(ğŸ¶)
Subscription: 1 Event: Next(ğŸ±)
Subscription: 2 Event: Next(ğŸ±)
Subscription: 1 Event: Next(ğŸ…°ï¸)
Subscription: 2 Event: Next(ğŸ…°ï¸)
Subscription: 1 Event: Next(ğŸ…±ï¸)
Subscription: 2 Event: Next(ğŸ…±ï¸)
Subscription: 3 Event: Next(ğŸ…±ï¸)
Subscription: 1 Event: Next(ğŸ)
Subscription: 2 Event: Next(ğŸ)
Subscription: 3 Event: Next(ğŸ)
Subscription: 1 Event: Next(ğŸŠ)
Subscription: 2 Event: Next(ğŸŠ)
Subscription: 3 Event: Next(ğŸŠ)
```

#### <a name="Variable"> Variable </a>

> ç¤ºä¾‹ä»£ç 

```
example("Variable") {
    let disposeBag = DisposeBag()
    let variable = Variable("ğŸ”´")
    
    variable.asObservable().addObserver("1").addDisposableTo(disposeBag)
    variable.value = "ğŸ¶"
    variable.value = "ğŸ±"
    
    variable.asObservable().addObserver("2").addDisposableTo(disposeBag)
    variable.value = "ğŸ…°ï¸"
    variable.value = "ğŸ…±ï¸"
}
```

> è¿è¡Œç»“æœ

```
Subscription: 1 Event: Next(ğŸ”´)
Subscription: 1 Event: Next(ğŸ¶)
Subscription: 1 Event: Next(ğŸ±)
Subscription: 2 Event: Next(ğŸ±)
Subscription: 1 Event: Next(ğŸ…°ï¸)
Subscription: 2 Event: Next(ğŸ…°ï¸)
Subscription: 1 Event: Next(ğŸ…±ï¸)
Subscription: 2 Event: Next(ğŸ…±ï¸)
Subscription: 1 Event: Completed
Subscription: 2 Event: Completed
```

